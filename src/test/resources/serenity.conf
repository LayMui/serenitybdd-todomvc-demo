webdriver {
  driver = chrome
  capabilities {
    browserName = "chrome"
    unhandledPromptBehavior = accept
    "goog:chromeOptions" {
      args = [
        "--window-size=1000,800",
        "--remote-allow-origins=*",
        "incognito", 
        "disable-infobars", 
        "disable-gpu",
        "disable-default-apps", 
        "disable-popup-blocking"
      ]
    }
  }
}

headless.mode = false

serenity {
  project.name = "Serenity BDD TodoMVC"
  tag.failures = "true"
  linked.tags = "issue"
  restart.browser.for.each = scenario
  logging = verbose
  
  # Use these options to reduce the size of the reports
  
  # Report on test durations
  report.test.durations = true
  take.screenshots = FOR_EACH_ACTION
  
  # Store HTML source for each page
  # (can be: FOR_EACH_ACTION, BEFORE_AND_AFTER_EACH_STEP, FOR_FAILURES or DISABLED)
  # store.html = FAILURES
# Healenium integration
  webdriver.driver = "provided"
  webdriver.provided.type = "mydriver"
  webdriver.provided.mydriver = "com.epam.healenium.SerenityHealeniumDriver"
}


# Healenium configuration
healenium {
  heal-enabled = true
  hlm.server.url = "http://localhost:7878"
  recovery-tries = 3
  score-cap = 0.5
  save-metrics = true
  metrics-path = "target/healenium"
}


# Default page configuration
home.page = "http://localhost:9300/"